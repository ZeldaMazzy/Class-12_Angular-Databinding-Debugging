"use strict";(self.webpackChunkBookIt=self.webpackChunkBookIt||[]).push([[592],{8038:(u,c,s)=>{s.d(c,{c:()=>n});var o=s(7579),p=s(2340),a=s(1223),_=s(520);let n=(()=>{class i{constructor(t){this.http=t,this.bookSelected=new o.x,this.bookListChanged=new o.x,this.firebaseURL=p.N.firebaseRootURL,this.globalBookList=[]}getAllBooks(){this.http.get(this.firebaseURL).subscribe(t=>{this.globalBookList=t.slice()||[],this.bookListChanged.next(t||[])})}getBookByIndex(t){return this.globalBookList[t]}createBook(t){this.globalBookList.push(t),this.bookSelected.next(t),this.saveBooks()}removeBookByIndex(t){t<0||(this.bookSelected.next(this.globalBookList[t]),this.globalBookList.splice(t,1),this.saveBooks())}saveBooks(){this.http.put(this.firebaseURL,this.globalBookList).subscribe(()=>{this.bookListChanged.next(this.globalBookList.slice())})}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(_.eN))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},8549:(u,c,s)=>{s.d(c,{w:()=>_});var o=s(1223),p=s(9808);function a(n,i){if(1&n){const e=o.EpF();o.TgZ(0,"div"),o._UZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"div",3),o.TgZ(6,"button",4),o.NdJ("click",function(){return o.CHM(e),o.oxw().onClose()}),o._uU(7,"Close"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(4),o.Oqu(e.message)}}let _=(()=>{class n{constructor(){this.message="",this.closeModal=new o.vpe}onClose(){this.closeModal.emit(),this.message=""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-alert"]],inputs:{message:"message"},outputs:{closeModal:"closeModal"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"backdrop"],[1,"alert-box"],[1,"alert-box-actions"],["type","button",3,"click"]],template:function(e,t){1&e&&o.YNc(0,a,8,1,"div",0),2&e&&o.Q6J("ngIf",t.message.length>0)},directives:[p.O5],styles:[".backdrop[_ngcontent-%COMP%]{z-index:99;position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf}.alert-box[_ngcontent-%COMP%]{z-index:100;position:fixed;top:25%;left:50%;transform:translate(-50%,-50%);padding:1em;background-color:#fff;box-shadow:0 8px 17px 2px #00000024,0 3px 14px 2px #0000001f,0 5px 5px -3px #0003}"]}),n})()},7388:(u,c,s)=>{s.d(c,{W:()=>i});var o=s(1223),p=s(6110),a=s(9808);function _(e,t){if(1&e&&(o.TgZ(0,"p",4),o.TgZ(1,"small"),o._uU(2),o.qZA(),o.qZA()),2&e){const r=o.oxw();o.xp6(2),o.Oqu(r.book.genre)}}function n(e,t){if(1&e&&(o.TgZ(0,"p",4),o.TgZ(1,"small"),o._uU(2),o.ALo(3,"currency"),o.qZA(),o.qZA()),2&e){const r=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,1,r.book.price))}}let i=(()=>{class e{transformToUpperCase(r){const l=r.split(" ");return l.map(g=>{const m=g.length;return g[0].toUpperCase()+g.slice(1,m).toLowerCase()}),console.log("transforming"),l.join(" ")}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-book"]],inputs:{book:"book",bookIndex:"bookIndex"},decls:13,vars:9,consts:[[1,"list-group-item","clearfix","book-link",3,"routerLink"],[1,"float-left"],[1,"list-group-item-heading"],["class","list-group-item-text mb-0",4,"ngIf"],[1,"list-group-item-text","mb-0"],[1,"float-right"],[1,"img-responsive","rounded",2,"max-height","50px",3,"src","alt","title"]],template:function(r,l){1&r&&(o.TgZ(0,"a",0),o.TgZ(1,"div",1),o.TgZ(2,"h5",2),o.TgZ(3,"strong"),o._uU(4),o.qZA(),o._uU(5),o.qZA(),o.YNc(6,_,3,1,"p",3),o.YNc(7,n,4,3,"p",3),o.TgZ(8,"p",4),o.TgZ(9,"small"),o._uU(10),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"div",5),o._UZ(12,"img",6),o.qZA(),o.qZA()),2&r&&(o.Q6J("routerLink",l.bookIndex),o.xp6(4),o.Oqu(l.book.title),o.xp6(1),o.hij(" - ",l.book.author," "),o.xp6(1),o.Q6J("ngIf",l.book.genre.length>0),o.xp6(1),o.Q6J("ngIf",l.book.price>0),o.xp6(3),o.Oqu(l.book.firstPublishYear),o.xp6(2),o.Q6J("src",l.book.coverImgPath,o.LSH)("alt",l.book.title)("title",l.book.title))},directives:[p.yS,a.O5],pipes:[a.H9],styles:[".book-link[_ngcontent-%COMP%]{cursor:pointer}"]}),e})()}}]);